# 1. MOCO数据助手前端页面展示

MOCO数据助手前端页面主要采用PyQt5实现，其主要采用的架构是以login_window.py作为登陆界面，登陆后则以main_window.py作为主入口，在main_window中集成许多的Tab从而实现主要的模块，注意到在views/components/中集成了许多可以复用的组件，其中主要包括：

* markdown_reviewer.py：markdown渲染器，主要是阅读使用说明书的内容。
* message_console.py：消息控制台组件，用于显示和更新应用中的所有输出消息。
* xlsxviewer.py：Excle表格展示的组件，可以对Excel的信息进行保存、刷新、打开源文件以及修改等。

在研发的时候应该遵循尽可能复用组件的原则，不要花太多精力重复造轮子。

目前仅关注前端的实现，所有按钮对应的逻辑先暂时可以不写，仅写一个mock的即可。

注意，在主界面中应该有一个message_console，用于接受LOGGER的输出。

下面，我主要来介绍每个Tab的功能和介绍：

## login_window：登陆界面

一个最简单的登陆界面即可。

## Tab1：配置界面(tabs/tab1.py)

该Tab主要用于查看所有详细配置，其中主要是在CONF中可以得到这些内容，CONF包含了app\config\SYSCONF_default.yaml以及app\config\\\<username>_temp.yaml的融合的信息，注意到其中CONF中有一个SPECIAL的字段，一开始仅仅展示这个字段中所有内容，这里应该特别注意到SPECIAL字段不一定是yaml文件的叶子节点，所以层级划分很重要，下面有三个按钮，分别是“显示全部字段”、“保存配置”、“恢复默认配置”。“显示全部字段”，这时候则展示所有的字段，而不仅仅是SPECIAL；这个Tab应该能够在Tab中进行对现有信息的查看以及修改，对应的可以进行保存；而恢复默认配置，则需要确认，主要的内容是从本地删除配置 app\config\\\<username>\_temp.yaml并从新从云端进行下载配置。



在下面的所有Tab中，右上方应该存在一个“选择/切换CP“的按钮，需要用户对CP进行选择，如果不选这个按钮的名字是“未选择CP“，点击后则可以选择一个在配置文件中的CONF.BUSINESS.CP.cp_id列表中的id名称，然后此时按钮变为“已选择CP为：<cp_id>”，再点击则可以更换。

## Tab2：餐厅获取(tabs/tab2.py)

该Tab主要实现了餐厅获取功能，在Tab的上方分别存在一个接口测试的组件，这里可以分别测试高德API、有道API、KIMI API、爱企查API、其他五种，然后每个对应的有一个“测试连通性”的按钮，并且后面有一个小灯，点击则进行模拟测试，如果是True则变绿，否则是红色，一开始是灰色。

然后中间有一个Excel展示窗口，注意使用component组件的内容。而下方是一些配置，分别是“餐厅获取”按钮、“餐厅城市”的展示，这里跟选择的CP有关、还有已有餐厅的导入按钮。

